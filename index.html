<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>第二級デジタル通信クイズ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light d-flex flex-column min-vh-100">

  <main class="container my-5 flex-grow-1 d-flex flex-column justify-content-center">
    <div class="card shadow-sm mx-auto" style="max-width: 480px;">
      <div class="card-body p-4">
        <h1 class="h4 text-center mb-4 fw-bold">第二級デジタル通信 クイズ</h1>

        <!-- 進捗・難易度・タイマー -->
        <div class="d-flex justify-content-between align-items-center mb-3 small text-muted">
          <div id="progress">問題 1 / 4</div>
          <div>
            <span id="difficulty" class="badge bg-secondary"></span>
          </div>
          <div style="width: 120px;">
            <div class="progress" style="height: 22px;">
              <div id="timer-bar" class="progress-bar bg-success" role="progressbar" style="width: 100%;">
                <span id="timer-text">30</span>秒
              </div>
            </div>
          </div>
        </div>

        <!-- 問題 -->
        <p id="question-text" class="fs-5 fw-semibold mb-4"></p>

        <!-- 選択肢 -->
        <div id="choices" class="d-grid gap-3 mb-3"></div>

        <!-- 結果表示 -->
        <p id="result" class="text-center fs-5 fw-semibold"></p>

        <!-- 次へボタン -->
        <div class="d-grid">
          <button id="next-button" class="btn btn-primary" style="display:none;" onclick="loadQuestion()">次の問題へ</button>
        </div>
      </div>
    </div>
  </main>

  <!-- 結果画面用モーダル -->
  <div class="modal fade" id="resultModal" tabindex="-1" aria-labelledby="resultModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="resultModalLabel">クイズ終了！</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="閉じる"></button>
        </div>
        <div class="modal-body text-center fs-5">
          <p id="final-score"></p>
          <p>正答率：<strong id="final-percent"></strong>%</p>
          <p>ランク：<span id="final-rank" class="badge fs-5"></span></p>
          <hr />
          <h6>🏅 ローカルランキング（最新5回）</h6>
          <ul id="ranking-list" class="list-group list-group-flush"></ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="restartQuiz()">もう一度挑戦する</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
